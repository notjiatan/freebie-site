---
/**
 * Site Header Component
 *
 * Main navigation header with:
 * - Home, Community Chat, and Login links
 * - Active page highlighting
 * - Responsive design
 */

const { pathname } = Astro.url;

// Navigation menu items
const menu = [
  {
    name: "Home",
    url: "/",
    icon: "home"
  },
  {
    name: "Community Chat",
    url: "/chat",
    icon: "chat"
  },
  {
    name: "Login",
    url: "/login",
    icon: "login"
  },
];
---

<!-- Main Header with Navigation -->
<header
  transition:persist
  class={`container max-w-2xl lg:max-w-3xl glass py-1 lg:py-0 z-30 mb-4 lg:mt-4 lg:rounded-lg sticky top-0`}
>
  <nav class="relative flex flex-wrap items-center justify-between">
    <ul id="nav-menu" class="text-center order-1 flex w-full justify-between">
      {menu.map((item) => (
        <li>
          <a
            href={item.url}
            class={`flex flex-col items-center space-y-1 lg:flex-row lg:space-y-0 lg:space-x-1 p-2 font-secondary font-semibold text-darkmode-txt-p transition lg:px-2 lg:py-3 ${
              (pathname === `${item.url}/` || pathname === item.url) && "active"
            }`}
          >
            <!-- Home Icon -->
            {item.icon === "home" && (
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
              </svg>
            )}

            <!-- Chat Icon -->
            {item.icon === "chat" && (
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>
                <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"/>
              </svg>
            )}

            <!-- Login Icon -->
            {item.icon === "login" && (
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
              </svg>
            )}

            <span>{item.name}</span>
          </a>
        </li>
      ))}
    </ul>
  </nav>
</header>
